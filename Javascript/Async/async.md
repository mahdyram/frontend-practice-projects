سؤال خیلی خوبی پرسیدی 👌
بذار قدم‌به‌قدم توضیح بدم:

---

### ۱. همزمان (Synchronous)

تو **کدنویسی همزمان**، دستورات یکی بعد از دیگری اجرا می‌شن.
یعنی وقتی برنامه به یه خط کد می‌رسه، **صبر می‌کنه** تا اون کامل اجرا بشه، بعد میره سراغ خط بعدی.

📌 مثال ساده:

```js
console.log("شروع");
console.log("میانه");
console.log("پایان");
```

خروجی همیشه اینه:

```
شروع
میانه
پایان
```

هیچ خطی قبل از اینکه خط قبلی تموم بشه اجرا نمیشه.

---

### ۲. غیرهمزمان (Asynchronous)

تو **کدنویسی غیرهمزمان**، بعضی دستورات (مثل درخواست به سرور یا تایمر) زمان‌بر هستن.
اینجا برنامه نمیاد منتظر بمونه تا اون دستور تموم بشه؛
میگه: "باشه برو کارت رو بکن، من meanwhile ادامه میدم!"

📌 مثال:

```js
console.log("شروع");

setTimeout(() => {
  console.log("وسط (بعد از ۲ ثانیه)");
}, 2000);

console.log("پایان");
```

خروجی اینه:

```
شروع
پایان
وسط (بعد از ۲ ثانیه)
```

می‌بینی؟
خط `setTimeout` بلاک نکرد، کد بعدی (پایان) اجرا شد و بعداً نتیجه‌ی تایمر اومد.

---

### ۳. async/await چه کمکی می‌کنه؟

وقتی از `await` استفاده می‌کنی، انگار داری به جاوااسکریپت میگی:
"بشین همین‌جا صبر کن تا نتیجه‌ی این کار زمان‌بر برگرده، بعد ادامه بده."

اینطوری کد **ظاهری شبیه کد همزمان** پیدا می‌کنه، ولی در واقع همچنان غیرهمزمان کار می‌کنه (یعنی کل برنامه قفل نمی‌شه).

📌 مثال بدون `await`:

```js
function fetchData() {
  return new Promise((resolve) => {
    setTimeout(() => resolve("داده آماده شد"), 2000);
  });
}

console.log("شروع");

fetchData().then((result) => {
  console.log(result);
});

console.log("پایان");
```

خروجی:

```
شروع
پایان
داده آماده شد
```

---

📌 مثال با `await`:

```js
async function main() {
  console.log("شروع");

  const result = await fetchData(); // اینجا منتظر می‌مونه
  console.log(result);

  console.log("پایان");
}

main();
```

خروجی:

```md
شروع
داده آماده شد
پایان
```

اینجا کد **شبیه همزمان** شده، ولی همچنان باعث قفل شدن کل برنامه نمیشه، چون فقط داخل اون تابع async صبر کرده.

---

✅ پس خلاصه:

- **همزمان:** خط به خط، صبر می‌کنه تا هر دستور کامل بشه.
- **غیرهمزمان:** خط بعدی اجرا میشه و نتیجه‌ی عملیات زمان‌بر بعداً میاد.
- **await:** ظاهراً مثل همزمان کار می‌کنه، ولی در واقع فقط داخل همون async function منتظر می‌مونه، نه اینکه کل برنامه رو قفل کنه.

<!-- -------------------------------------------- -->
<hr style="height:5px; background-color:red" />
<!-- -------------------------------------------- -->

آها 🔎 بذار همین تیکه رو واضح‌تر توضیح بدم:

وقتی می‌گیم:

> > فقط داخل اون تابع `async` صبر کرده

یعنی **`await` فقط اجرای همون تابعی که توش هست رو متوقف می‌کنه**، نه کل برنامه.

---

📌 مثال:

```js
function fetchData() {
  return new Promise((resolve) => {
    setTimeout(() => resolve("✅ داده آماده شد"), 2000);
  });
}

async function main() {
  console.log("شروع main");

  const result = await fetchData(); // اینجا متوقف میشه تا نتیجه بیاد
  console.log(result);

  console.log("پایان main");
}

main();

console.log("کدهای خارج از main");
```

---

### خروجی:

```md
شروع main
کدهای خارج از main
✅ داده آماده شد
پایان main
```

🔑 نکته:

- وقتی `await fetchData()` اجرا میشه، **تابع `main`** صبر می‌کنه.
- ولی **بقیه‌ی برنامه (کدی که بیرون از `main` هست)** آزادانه ادامه میده (`کدهای خارج از main` سریع چاپ میشه).

---

پس:

- `await` باعث نمی‌شه **کل جاوااسکریپت متوقف بشه** (برنامه freeze بشه).
- فقط همون تابع `async` منتظر نتیجه می‌مونه.

<!-- -------------------------------------------- -->
<hr style="height:5px; background-color:red" />
<!-- -------------------------------------------- -->

خیلی خوب شد پرسیدی 👍 چون **Promise** دقیقا پایه‌ی async/await هست.
بذار قدم به قدم برات باز کنم:

---

### 🔹 Promise چیه؟

یه **Promise** در جاوااسکریپت مثل یه "قول" (وعده) است.
یعنی میگه:

> من الان نتیجه رو ندارم، ولی بعداً یا بهت میدم (موفق) یا میگم نشد (خطا).

پس Promise سه حالت داره:

1. **Pending (در حال انتظار):** هنوز نتیجه معلوم نیست.
2. **Fulfilled (انجام شد):** نتیجه برگشته (با `resolve`).
3. **Rejected (رد شد):** خطا اتفاق افتاده (با `reject`).

---

### 🔹 مثال ساده Promise

```js
const myPromise = new Promise((resolve, reject) => {
  let success = true;

  if (success) {
    resolve("کار با موفقیت انجام شد ✅");
  } else {
    reject("یه خطا رخ داد ❌");
  }
});

myPromise
  .then((result) => console.log(result)) // وقتی موفق بشه
  .catch((error) => console.log(error)); // وقتی خطا بده
```

---

### 🔹 ارتباطش با async/await

`async/await` فقط یه **شکل جدید و راحت‌تر** برای کار کردن با Promiseهاست.
یعنی هر وقت از `await` استفاده می‌کنی، در واقع داری منتظر **یه Promise** می‌مونی.

📌 همون مثال قبلی:

```js
function fetchData() {
  return new Promise((resolve) => {
    setTimeout(() => resolve("✅ داده آماده شد"), 2000);
  });
}

// روش قدیمی با then
fetchData().then((result) => console.log(result));

// روش جدید با async/await
async function main() {
  const result = await fetchData();
  console.log(result);
}
main();
```

---

### 🔑 فرق:

- `then/catch`: حالت قدیمی → کمی تو در تو میشه (callback style).
- `async/await`: حالت جدید → کد شبیه همزمان خونده میشه و مرتب‌تره.

---

✅ پس خلاصه:

- **Promise** = قولی برای نتیجه در آینده.
- **await** = منتظر موندن برای اون Promise.
- **async function** = همیشه یه Promise برمی‌گردونه.

<!-- -------------------------------------------- -->
<hr style="height:5px; background-color:red" />
<!-- -------------------------------------------- -->

سؤال خیلی خوبیه 👌
بذار همه‌چیزو به هم وصل کنم: **همزمان (Synchronous)**، **غیرهمزمان (Asynchronous)**، **Promise** و **async/await**.

---

## 🔹 ۱. همزمان (Synchronous)

کدی که خط‌به‌خط اجرا میشه و هر خط منتظر قبلی می‌مونه.
🔸 مثل اینکه تو رستوران منتظر بمونی غذات آماده بشه، بعد تازه بری قاشق بیاری، بعد تازه نوشیدنی سفارش بدی. همه‌چی پشت سر همه.

---

## 🔹 ۲. غیرهمزمان (Asynchronous)

کدی که می‌تونه بگه:

> "این کار طول می‌کشه، من فعلاً ادامه میدم، بعداً که آماده شد خبرم کن."

🔸 مثل اینکه تو رستوران سفارشتو بدی، ولی همزمان بری قاشق و نوشیدنی برداری. غذا که آماده شد، گارسون خبرت می‌کنه.

---

## 🔹 ۳. Promise تو غیرهمزمان

Promise ابزاریه که جاوااسکریپت داده تا کارهای زمان‌بر (غیرهمزمان) رو هندل کنیم.

- وقتی میگی `fetch(...)` یا `setTimeout(...)` → اینا **بلافاصله نتیجه ندارن**، پس یه Promise برمی‌گردونن.
- اون Promise میگه: "فعلاً Pending‌ام، بعداً یا موفق میشم (Fulfilled) یا خطا میدم (Rejected)."

🔸 پس **Promise همون قولِ نتیجه‌ی عملیات غیرهمزمانه**.

---

## 🔹 ۴. async/await

حالا `async/await` فقط 语 نحوی قشنگ‌تری برای استفاده از Promise هست.

- به جای `then` و `catch`، میگی `await` کن.
- ظاهر کد شبیه کد **همزمان** میشه، ولی در باطن همچنان **غیرهمزمان**ه.

---

📌 مثال کامل:

```js
function getData() {
  return new Promise((resolve) => {
    setTimeout(() => resolve("📦 داده رسید"), 2000);
  });
}

console.log("شروع");

// روش قدیمی با then
getData().then((result) => console.log(result));

console.log("ادامه کار برنامه");

// روش جدید با await
async function main() {
  console.log("شروع main");
  const data = await getData(); // منتظر میمونه
  console.log(data);
  console.log("پایان main");
}

main();
```

---

### خروجی:

```md
شروع
ادامه کار برنامه
شروع main
📦 داده رسید
پایان main
```

---

## 🔑 جمع‌بندی ارتباط‌ها

- **همزمان:** هر خط منتظر قبلیه.
- **غیرهمزمان:** بعضی کارا (مثل I/O یا API) جدا انجام میشن و بعداً نتیجه میدن.
- **Promise:** قولی برای گرفتن نتیجه‌ی همون کارای غیرهمزمان.
- **await:** راهی برای نوشتن کدی که ظاهرش مثل همزمان باشه، ولی در واقع داره روی Promise غیرهمزمان صبر می‌کنه.
